<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='UTF-8'>
  <link href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css' rel='stylesheet'
        integrity='sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC' crossorigin='anonymous'>
  <script>
    const imgBlob = async () => {
      const imageJson = JSON.parse(window.api.image())
      const result = await window.api.getImage(imageJson.fullPath)

      const blob = new Blob([result])
      const url = URL.createObjectURL(blob)
      document.getElementById('root').src = url
    }

    imgBlob()


  </script>
</head>
<body>
<div class='container-fluid'>
  <div class='row'>
    <div class='col'>
      <figure class='figure'>
        <img id='root' class='img-fluid img-thumbnail' width='1200' />
        <figcaption class='figure-caption'></figcaption>
      </figure>
      <div>
        <button type='button' class='btn btn-primary' id='btnLeft'>向左旋轉</button>
        <button type='button' class='btn btn-primary' id='btnRight'>向右旋轉</button>
      </div>
    </div>
  </div>
</div>
<script>
  let angle = 0
  document.getElementById('btnLeft').onclick = function() {
    angle = (angle + 90) % 360
    const img = document.getElementById('root')
    img.setAttribute('style', 'transform: rotate(' + angle + 'deg)')
  }
  document.getElementById('btnRight').onclick = function() {
    angle = (angle - 90) % 360
    const img = document.getElementById('root')
    img.setAttribute('style', 'transform: rotate(' + angle + 'deg)')
  }
  document.getElementById('root').addEventListener('mouseup', mouseClick)

  function mouseClick(event) {
    if (event.button === 0) {
      const img = document.getElementById('root')
      img.style.width = img.width * 1.2 + 'px'
    }
    if (event.button === 2) {
      const img = document.getElementById('root')
      img.style.width = img.width / 1.2 + 'px'
    }
  }
</script>
<script src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js'
        integrity='sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM'
        crossorigin='anonymous'></script>

</body>
</html>